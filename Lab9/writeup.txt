Lab 9
By David Krug and Nathaniel Imel

Todo:
   re-check the status of each MT item from eng and sje to ttv
   initial/final grammar comparision

Table of Contents
1 Improving Coverage and Reducing Overgeneration
2 Residual Ambiguity
3 Transfer Rules
4 Current MT Coverage
   4.1 eng to ttv
   4.2 sje to ttv
5 Before & After Grammar Comparison
   5.1 Testsuite
      5.1 Initial Grammar
      5.2 Final Grammar
   5.2 Corpus
      5.1 Initial Grammar
      5.2 Final Grammar

===============================================================================
1 Improving Coverage and Reducing Overgeneration

25: Manuai i matir alan muiny i matir.
   Previously, sentence 25 generated four results, each with "alan" at the
      beginning of the sentence:
      
      *Alan   manuai i        matir muiny i        matir.
      Because cat    3sg.real sleep dog   3sg.real sleep
      Because the cat sleeps, the dog sleeps.
   
   To get alan to appear after the subordinate clause, we changed this rule:
      realis-clause-init-prehead-s-attach-subord-lex-item := subord-with-verbal-comp-lex &
         ...
         INIT +
   
   to this:
      realis-clause-final-prehead-s-attach-subord-lex-item := subord-with-verbal-comp-lex &
         ...
         INIT -
   
   After this, two of the incorrect results had the VP "manuai matir alan", in
      which the <complement> of "alan" is a non-finite VP. To fix this, we
      specifyied that the MOD value of "alan" must be FORM finite.

   The final tdl for "alan" is:
   
   realis-clause-final-prehead-s-attach-subord-lex-item := subord-with-verbal-comp-lex & non-local-none-lex-item &
     [ SYNSEM.LOCAL [ CONT.HOOK.INDEX.E.MOOD #feat,
                      CAT [ VAL.COMPS < [ LOCAL [ CAT [ VAL.SUBJ < >,
                                                        HEAD.FORM finite],
                                                  CONT.HOOK.INDEX.E.MOOD #feat & realis ] ] >,
                            POSTHEAD -,
                            HEAD [ MOD < [ LOCAL.CAT [ VAL.SUBJ < > ,
                                                       HEAD.FORM finite ] ] >,
                                   INIT - ] ] ] ].

   20, 21, 22: which_q_rel > wh_q_rel
      To fix these sentences, we simply changed the spelling of the PRED value
         of wh words form which_q_rel to wh_q_rel.

===============================================================================
2 Residual Ambiguity

===============================================================================
3 Transfer Rules
   6: "think" and "know" > "va" (think/know)
      In Titan, "va" means both think and say. "Know" does not show up in our
         corpus, so to translate sentence 6, we are saying that know means
         think and know. The PRED value for "va" is _think-or-know_v_rel. We
         made and instantiated the following transfer rules:

      think-titan-mtr := monotonic_mtr &
      [ INPUT.RELS < [ PRED "_think_v_rel",
                        ARG0 #event,
                        ARG1 #subj ] >,
        OUTPUT.RELS < [ PRED "_think-or-know_v_rel",
                          ARG0 #event,
                          ARG1 #subj ] > ].
      
      know-titan-mtr := monotonic_mtr &
      [ INPUT.RELS < [ PRED "_know_v_rel",
                        ARG0 #event,
                        ARG1 #subj ] >,
        OUTPUT.RELS < [ PRED "_think-or-know_v_rel",
                          ARG0 #event,
                          ARG1 #subj] > ].

   15: "hunger eats the dogs" > "the dogs are hungry"
      To translate "The dogs are hungry" we made and instatiated the following
         transfwer rule:

      hunger-eats-mtr := monotonic_mtr &
      [ INPUT.RELS < [ PRED "_hungry_a_rel",
                        ARG0 #event,
                        ARG1 #agent ] >,
        OUTPUT [ RELS < [ PRED "_hunger_n_rel",
                           LBL #larg,
                           ARG0 #hunger & [NUM sg]],
                        [ PRED "_eat_v_rel",
                           ARG0 #event,
                           ARG1 #hunger,
                           ARG2 #agent ],
                        [ PRED "exist_q_rel",
                           RSTR #harg,
                           ARG0 #hunger ] >,
                 HCONS < [HARG #harg,
                           LARG #larg] > ] ].

   16: _in_p_rel > _loc_p_rel
      Titan has a generic purpose preposition, so we intantiated in-loc-mtr.

===============================================================================
4 Current MT Coverage
4.1 eng to ttv
    1: 1 result
       good result
    2: 1 result
       good result
    3: 2 results
       'you' in English could be singular or plural. 
    4: 1 result
       good results
    5: 2 results
       Both results are good, one has bi-partite negationa and the
       the other has simple negation
    6: 0 results
       SKIPPED in ttv, we need transfer rules from "think" and "know" to
       "va" (think/know)
    7: 0 results
       SKIPPED in ttv
    8: 1 results
       Correct result.
    9: 1 results
       Correct results.
    10: 2 results
       Both results are correct, ambiguity scope of verbal clitic.
    11: 1 results
       Correct result.
    12: 0 results
       SKIPPED in ttv, we are missing attributive adjectives.
    15: 0 results
       We are missing a transfwer rule for "hunger eats the dogs".
    16: 0 results
       We are missing a transfer rule for _in_p_rel to _loc_p_rel.
    17: 1 result
       Correct results.
    18: 0 results (SKIPPED in ttv)
       The general preposition 'e' used for poesssion currently has the pred
       val _loc_p_rel. We'll need to add another lexical entry for
       'e' to handle poss_rel.
    19: 1 result
       Correct result, however, we expect 2 results. The pronominal
       possesive suffix has two alternating forms, '-yo' and
       '-eyo'. Currently only '-yo' shows up.
    20: 0 results
       wh_q_rel is not covered. Instead, we have which_q_rel. We can fix
       this with a transfer rule.
    21: 0 results
       wh_q_rel is not covered. Instead, we have which_q_rel. We can fix
       this with a transfer rule.
    22: 0 results
       wh_q_rel is not covered. Instead, we have which_q_rel. We can fix
          this with a transfer rule.
   22: 0 results
      wh_q_rel is not covered. Instead, we have which_q_rel. We can fix
      this with a transfer rule.
   23: 0 results (error) (SKIPPED in ttv)
      We got an error: atomic_dg: no such type as 'past'. We suspected we
         could find a fix for this in semi.vpm, but Titan has no
         tense.
   24: 0 results (error) (SKIPPED in ttv)
      We got the same error as in 23.
   25: 4 results
      'Alan' (because) ought to be at the end of the sentence, but all
         results have it at the beginning. Additionaly, two of the
         reults have the subject and object swapped, and IN_SITU_QUES
         applies to the topmost S. 
   26: 0 results
      SKIPPED in ttv, we are missing a word for "after".

4.2 sje to eng 
    1: 1 result
       Correct result
    2: 1 result
       Correct result
    3: 1 result
       Correct result
    4: 2 results
       One good translation, one bad translation with semantics that
       means "They eat dogs":
          "ala ani muiny"
    5: 2 results
       Both results are good, one has bi-partite negationa and the
          the other has simple negation
    6: 0 results
       SKIPPED in ttv, we need transfer rules from "think" and "know" to
          "va" (think/know)
    7: 0 results
       SKIPPED in ttv
    8: 2 results (with same surface string)
       Because we allow nouns to be standalone sentences and because
          there sentences can be coordinated, there is ambiguiy
          about the consituant structure of the daughters of
          coordination. We aren't sure why sje>ttv has this
          ambiguity and eng>ttv doesn't.
    9: 1 results
       Correct result.
    10: 4 results.
       Two results are correct, and in the two bad results, the subject of
          one of the coordinated verbs is dropped.
    11: 1 results
      Correct result.
    12: 0 results
      SKIPPED in ttv, we are missing attributive adjectives.
    13: 0 results
       We are missing a transfer rule for _in_p_rel to _loc_p_rel.
    14: 0 resulst
       We are missing a transfer rule for _in_p_rel to _loc_p_rel.
    15: 0 results
       We are missing a transfwer rule for "hunger eats the dogs".
    16: SKIPPED in sje
    17: SKIPPED in sje
    18: 0 results (SKIPPED in ttv)
       The general preposition 'e' used for poesssion currently has the pred
          val _loc_p_rel. We'll need to add another lexical entry for
          'e' to handle poss_rel.
    19: 1 result.
       Correct result, however, we expect 2 results. The pronominal
          possesive suffix has two alternating forms, '-yo' and
          '-eyo'. Currently only '-yo' shows up.
    20: 0 results
       wh_q_rel is not covered. Instead, we have which_q_rel. We can fix
          this with a transfer rule.
    21: 0 results
       wh_q_rel is not covered. Instead, we have which_q_rel. We can fix
          this with a transfer rule.
    22: 0 results
       wh_q_rel is not covered. Instead, we have which_q_rel. We can fix
          this with a transfer rule.
    23: 0 results (error) (SKIPPED in ttv)
       We got an error: atomic_dg: no such type as 'past'. We suspected we
          could find a fix for this in semi.vpm, but Titan has no
          tense.
    24: 0 results 
       We got the same error as in 23.
    25: SKIPPED in sje
    26: SKIPPED in sje & ttv

===============================================================================
5 Before & After Grammar Comparision
   5.1 Testsuite
   
      5.1.2 Initial grammar
         69/103 positive items parsed (67.0% coverage)
         6/90 negative items parsed (6.9% overgeneration)
         
         On average:
            Positive items that parsed had 1.30 parses.
            Negative items that parsed had 1.83 parses.
         
         The most ambiguous item had 4 parses:
   
       *Manuai i   e    muiny
       osprey 3sg prep dog
       "The eagle is on the dog."
      
         See lab 8 for details.   
      
      5.1.2 Final grammar
         #/# positive items parsed (#% coverage)
         #/# negative items parsed (#% overgeneration)
         
         On average:
            positive items that parsed had # parses.
            negative itmes that parsed had # parses.
         
         The most ambigous item had # parses:
         
   5.2 Test corpus
       
      5.2.1 Initial grammar
         38/562 items parsed (6.8% coverage)
         
         On average, parsed items had 1.61 parses.
         
         The most ambiguous items had 8 and parses:
              papu-n     i        va  yo poen
        father-3sg 3sg.real say 1sg not
        His father said It wasn t me.
   
      5.2.2 Final grammar
         #/# items parsed (#% coverage)
         
         On average, parsed items had # parses.
         
         The most ambiguous item had # parses:
